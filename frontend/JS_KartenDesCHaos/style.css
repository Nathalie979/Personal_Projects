/* === Theme Tokens === */
:root{
    --bg-ink: #0b0a12;
    --bg-ink-2: #131129;

    --text: rgba(255,255,255,0.92);
    --muted: rgba(255,255,255,0.70);

    --panel: rgba(16, 14, 28, 0.62);
    --panel-strong: rgba(20, 18, 36, 0.78);
    --panel-border: rgba(255,255,255,0.14);

    --shadow: 0 12px 40px rgba(0,0,0,0.45);
    --shadow-soft: 0 8px 24px rgba(0,0,0,0.35);

    --accent: #9a86ff;
    --accent-2: #ffb24a;
    --danger: #ff6b6b;

    --radius: 16px;
    --radius-lg: 22px;
}

/* === Base === */
*{ box-sizing: border-box; }
html, body { height: 100%; }

body {
    margin: 0;
    color: var(--text);
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;

    background-color: var(--bg-ink);
    background-image:
            radial-gradient(1200px 800px at 20% 10%, rgba(154,134,255,0.22), transparent 55%),
            radial-gradient(900px 700px at 80% 30%, rgba(255,178,74,0.14), transparent 55%),
            linear-gradient(to bottom, rgba(0,0,0,0.25), rgba(0,0,0,0.65)),
            url("Bilder/newGame_background.png");
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;

    overflow-x: hidden;
}

h1, h2, h3 {
    margin: 0;
    letter-spacing: 0.2px;
}

h2 {
    color: var(--text);
    margin-top: 1rem;
    font-weight: 700;
}


h1::after { content: ""; }


header {
    width: 100%;
    padding: 0.75rem 1rem;

    background:
            linear-gradient(135deg, rgba(154,134,255,0.30), rgba(20,18,36,0.72)),
            linear-gradient(to right, rgba(10,8,18,0.75), rgba(10,8,18,0.35));
    border-bottom: 1px solid rgba(255,255,255,0.10);
    box-shadow: var(--shadow-soft);

    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 0.75rem;
    flex-wrap: wrap;

    backdrop-filter: blur(10px);
}

h1 {
    font-size: 1.5rem;
    font-weight: 800;
    text-shadow: 0 2px 10px rgba(0,0,0,0.45);
    padding: 0.25rem 0.5rem;
}


#rules {
    position: static;
    transform: none;
}

/* === Layout Container === */
#gameElementsBox{
    min-height: calc(100vh - 70px);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    padding: 1.25rem 1rem 2rem;
    gap: 1rem;
}

/* === Panels (Info / Endscreen) === */
#infoScreen, #endOfGame {
    width: min(900px, 92vw);
    padding: 1.25rem 1.25rem;

    background: linear-gradient(180deg, var(--panel), rgba(12,10,20,0.52));
    border: 1px solid var(--panel-border);
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow);
    text-align: center;

    backdrop-filter: blur(10px);
}

#player-info{
    max-width: 520px;
}

#endOfGame img{
    max-width: min(340px, 70%);
    max-height: 320px;
    border-radius: 14px;
    margin: 1rem auto 0.25rem;
    box-shadow: 0 10px 30px rgba(0,0,0,0.45);
    display: block;
    border: 1px solid rgba(255,255,255,0.12);
}

/* === Lists  === */
ul { list-style: none; padding: 0; margin: 0; }

li {
    padding: 0.75rem 0.9rem;
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.10);
    border-radius: 12px;
    margin-bottom: 0.6rem;
    cursor: pointer;
    transition: transform 0.15s ease, background-color 0.2s ease, border-color 0.2s ease;
}
li:hover {
    background: rgba(154,134,255,0.14);
    border-color: rgba(154,134,255,0.30);
    transform: translateY(-1px);
}

/* === Buttons & Inputs === */
input[type="text"], button {
    font-size: 1rem;
    padding: 0.7rem 0.9rem;
    border-radius: 12px;
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow: 0 6px 18px rgba(0,0,0,0.25);
}

input[type="text"]{
    width: min(520px, 85vw);
    background: rgba(10,8,18,0.55);
    color: var(--text);
    outline: none;
}
input[type="text"]::placeholder{ color: rgba(255,255,255,0.55); }
input[type="text"]:focus{
    border-color: rgba(154,134,255,0.45);
    box-shadow: 0 0 0 4px rgba(154,134,255,0.16);
}

button {
    cursor: pointer;
    color: var(--text);
    background:
            linear-gradient(135deg, rgba(154,134,255,0.95), rgba(120,98,255,0.75));
    transition: transform 0.12s ease, filter 0.18s ease, opacity 0.18s ease;
}
button:hover { transform: translateY(-1px); filter: brightness(1.06); }
button:active { transform: translateY(0px); filter: brightness(0.98); }
button:disabled { opacity: 0.55; cursor: not-allowed; }

/* Button-Bereich */
#buttonWrapper{
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    flex-wrap: wrap;
    padding: 0.25rem 0;
}

/* Spezifische Buttons (Farben, aber gleiche Form) */
#draw, #discard{
    background: linear-gradient(135deg, rgba(154,134,255,0.70), rgba(154,134,255,0.35));
}
#apply{
    background: linear-gradient(135deg, rgba(255,178,74,0.95), rgba(234,127,14,0.75));
}
#discard:hover, #draw:hover{ filter: brightness(1.08); }
#apply:hover{ filter: brightness(1.06); }

/* === Card Container === */
#card {
    position: relative;
    width: min(340px, 78vw);

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: space-between;

    background-image: url('Bilder/card_background.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;

    border-radius: 30px;
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow: 0 18px 50px rgba(0,0,0,0.55);

    text-align: center;
    margin: 0.25rem auto;
    overflow: hidden;
}


#card::before{
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0.20), rgba(0,0,0,0.45));
    pointer-events: none;
}

.karten-inhalt {
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    gap: 0.35rem;
    width: 100%;
    padding: 1rem 1.25rem;
}

.karten-bild img {
    width: 82%;
    object-fit: contain;
    border-radius: 18px;
    margin: 0.5rem auto 0.75rem;
    border: 1px solid rgba(255,255,255,0.12);
    box-shadow: 0 10px 28px rgba(0,0,0,0.35);
    display: block;
}

.karten-titel h2 {
    font-size: 1.15rem;
    font-weight: 800;
    margin: 1.0rem 0.5rem 0.4rem;
    text-shadow: 0 2px 12px rgba(0,0,0,0.45);
    height: auto;
}

.karten-beschreibung p {
    font-size: 1.0rem;
    line-height: 1.35;
    margin: 0.25rem 0.5rem 0.5rem;
    color: rgba(255,255,255,0.88);
    min-height: 3.2em;
}

.karten-wirkung p {
    font-size: 0.92rem;
    font-style: italic;
    margin: 0.25rem 0 0.25rem;
    color: rgba(255,255,255,0.70);
}


#details, #feedback {
    width: min(900px, 92vw);
    background: var(--panel-strong);
    border: 1px dashed rgba(255,255,255,0.16);
    padding: 0.9rem 1rem;
    border-radius: var(--radius);
    box-shadow: var(--shadow-soft);
}

#feedback {
    font-weight: 800;
    font-size: 1.1rem;
}


#customPrompt {
    position: fixed;
    inset: 0;
    background-color: rgba(0, 0, 0, 0.62);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    backdrop-filter: blur(7px);
    padding: 1rem;
}

#customPromptContent {
    width: min(560px, 92vw);
    max-height: min(78vh, 820px);

    display: flex;
    flex-direction: column;
    gap: 0.75rem;

    background: linear-gradient(180deg, rgba(20,18,36,0.92), rgba(10,8,18,0.88));
    color: var(--text);
    padding: 1rem 1.1rem;
    border-radius: var(--radius-lg);

    box-shadow: 0 22px 70px rgba(0,0,0,0.65);
    border: 1px solid rgba(255,255,255,0.14);
}

#customPromptTitle{
    font-size: 1.1rem;
    font-weight: 900;
    margin: 0.25rem 0 0;
}

#customPromptText {
    white-space: pre-wrap;
    overflow-y: auto;
    max-height: 52vh;
    font-size: 0.98rem;
    line-height: 1.45;
    color: rgba(255,255,255,0.85);
    padding: 0.25rem 0.2rem;
    margin: 0;
}

/* Buttons im Prompt etwas gleichmäßiger */
#customPromptButtons{
    display: flex;
    gap: 0.6rem;
    flex-wrap: wrap;
    justify-content: center;
}

/* === Animations (deine bleiben, nur leicht smoother) === */
@keyframes magicAppear {
    0% { opacity: 0; transform: scale(0.7) rotate(-4deg); filter: brightness(1.35) blur(2px); }
    55% { opacity: 0.85; transform: scale(1.03) rotate(1deg); filter: brightness(1.12) blur(0.5px); }
    100% { opacity: 1; transform: scale(1) rotate(0deg); filter: brightness(1) blur(0); }
}
.magische-karte { animation: magicAppear 0.75s ease-out; }

@keyframes anwendenPulse {
    0% { box-shadow: 0 0 0 rgba(255, 178, 74, 0.0); transform: scale(1); }
    50% { box-shadow: 0 0 34px rgba(255, 178, 74, 0.55); transform: scale(1.02); }
    100% { box-shadow: 0 0 0 rgba(255, 178, 74, 0.0); transform: scale(1); }
}
.pulse-effekt { animation: anwendenPulse 0.55s ease-in-out; }

@keyframes wegwerfenDrehen {
    0% { opacity: 1; transform: rotate(0deg) translateX(0) scale(1); }
    100% { opacity: 0; transform: rotate(38deg) translateX(200%) scale(0.72); }
}
.wegwerf-effekt { animation: wegwerfenDrehen 0.55s ease-in-out; }

/* === Responsive === */
@media (max-width: 600px), (max-height: 900px){
    body { font-size: 14px; }

    header{
        justify-content: center;
        text-align: center;
    }

    #gameElementsBox{
        padding: 1rem 0.8rem 1.5rem;
    }

    #card {
        width: min(280px, 86vw);
    }

    .karten-titel h2{ font-size: 1.05rem; }
    .karten-beschreibung p{ font-size: 0.95rem; }
    .karten-wirkung p{ font-size: 0.85rem; }

    #customPromptContent{
        width: min(520px, 94vw);
        padding: 0.95rem;
    }
}


#card{
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    align-items: center;

    width: 70vw;
    max-width: 320px;

    background-image: url('Bilder/card_background.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;

    background-color: transparent;
    border: none;
    border-radius: 30px;

    text-align: center;
    margin: 0.5rem auto;
    overflow: hidden;
}




.karten-inhalt{
    display: flex;
    flex-direction: column;
    justify-content: space-evenly;
    height: 100%;
    width: 100%;
    padding: 1rem 1.5rem;
    box-sizing: border-box;
}

.karten-bild img{
    width: 80%;
    object-fit: contain;
    border-radius: 20px;
    margin-bottom: 1.5rem;
    border: none;
    box-shadow: none;
}

.karten-titel h2{
    font-size: 1.2rem;
    font-weight: bold;
    margin: 3rem 2rem 1rem;
    text-align: center;
    height: 50px;
}

.karten-beschreibung p{
    font-size: 1.1rem;
    margin: 0.5rem 1rem 2rem 1rem;
    flex-grow: 1;
    text-align: center;
    height: 100px;
}

.karten-wirkung p{
    font-size: 0.95rem;
    font-style: italic;
    height: 30px;
    text-align: center;
    margin: 0;
}
